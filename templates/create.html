{{template "base.html" .}}

{{define "title"}}新しいタスク作成 - タスク管理システム{{end}}

{{define "content"}}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h2 class="mb-4">新しいタスクを作成</h2>
        
        <form method="POST" action="/create">
            <div class="mb-3">
                <label for="title" class="form-label">タイトル <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="title" name="title" required maxlength="200">
            </div>
            
            <div class="mb-3">
                <label for="description" class="form-label">詳細情報</label>
                <textarea class="form-control" id="description" name="description" rows="5" placeholder="タスクの詳細な説明を入力してください..."></textarea>
            </div>
            
            <div class="mb-3">
                <label for="deadline" class="form-label">期限 <span class="text-danger">*</span></label>
                <input type="datetime-local" class="form-control" id="deadline" name="deadline" required>
            </div>
            
            <div class="d-flex justify-content-between">
                <a href="/" class="btn btn-secondary">キャンセル</a>
                <button type="submit" class="btn btn-primary">タスクを作成</button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const deadlineInput = document.getElementById('deadline');
    const now = new Date();
    now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
    deadlineInput.min = now.toISOString().slice(0, 16);
});
</script>
{{end}}